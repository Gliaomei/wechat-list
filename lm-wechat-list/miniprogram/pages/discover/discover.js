"use strict";
var __spreadArray = (this && this.__spreadArray) || function (to, from) {
    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)
        to[j] = from[i];
    return to;
};
Page({
    data: {
        dataList: [],
        loading: false,
        navbarData: ["Ozworld", "看见每一种可能", "2020欧洲杯", "LOVE UNITES新系列", "ADIZERO PRIME X"],
    },
    onLoad: function () {
        this.getShowList();
    },
    getShowList: function () {
        var that = this;
        this.setData({ loading: true });
        wx.request({
            url: 'https://example.com/showlist',
            dataType: 'json',
            success: function (res) {
                that.setData({ loading: false });
                wx.stopPullDownRefresh();
                that.setData({ dataList: res.data.list }, function () {
                    wx.hideLoading();
                });
            }
        });
    },
    onReachBottom: function () {
        var changeList = __spreadArray([], this.data.dataList);
        var tmpArr = [];
        for (var i = 0; i < changeList.length; i++) {
            var index = parseInt(Math.random() * 100) % changeList.length;
            tmpArr.push(changeList[index]);
            changeList.splice(index, 1);
        }
        var dataList = this.data.dataList.concat(tmpArr);
        this.setData({ dataList: dataList }, function () {
            wx.hideLoading();
        });
    },
    onPullDownRefresh: function () {
        this.setData({ dataList: [] });
        this.getShowList();
    },
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGlzY292ZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJkaXNjb3Zlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFLQSxJQUFJLENBQUM7SUFDSCxJQUFJLEVBQUU7UUFDSixRQUFRLEVBQUUsRUFBRTtRQUNaLE9BQU8sRUFBRSxLQUFLO1FBQ2QsVUFBVSxFQUFFLENBQUMsU0FBUyxFQUFDLFNBQVMsRUFBQyxTQUFTLEVBQUMsZ0JBQWdCLEVBQUMsaUJBQWlCLENBQUM7S0FDL0U7SUFDRCxNQUFNLEVBQU47UUFDRSxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDckIsQ0FBQztJQUVELFdBQVcsRUFBRTtRQUNYLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQztRQUNoQixJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUM7UUFDaEMsRUFBRSxDQUFDLE9BQU8sQ0FBQztZQUNULEdBQUcsRUFBRSw4QkFBOEI7WUFDbkMsUUFBUSxFQUFFLE1BQU07WUFDaEIsT0FBTyxFQUFQLFVBQVEsR0FBTztnQkFDYixJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUM7Z0JBQ2pDLEVBQUUsQ0FBQyxtQkFBbUIsRUFBRSxDQUFBO2dCQUN4QixJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsUUFBUSxFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLEVBQUU7b0JBQ3hDLEVBQUUsQ0FBQyxXQUFXLEVBQUUsQ0FBQTtnQkFDbEIsQ0FBQyxDQUFDLENBQUM7WUFDTCxDQUFDO1NBQ0YsQ0FBQyxDQUFBO0lBQ0osQ0FBQztJQUVELGFBQWEsRUFBRTtRQUNiLElBQUksVUFBVSxxQkFBbUIsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUVyRCxJQUFJLE1BQU0sR0FBZSxFQUFFLENBQUM7UUFDNUIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFVBQVUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDMUMsSUFBSSxLQUFLLEdBQUcsUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxHQUFVLENBQUMsR0FBRyxVQUFVLENBQUMsTUFBTSxDQUFDO1lBQ3JFLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7WUFDL0IsVUFBVSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUM7U0FDN0I7UUFDRCxJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsTUFBYSxDQUFDLENBQUM7UUFDeEQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUUsRUFBRTtZQUNuQyxFQUFFLENBQUMsV0FBVyxFQUFFLENBQUE7UUFDbEIsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDO0lBRUQsaUJBQWlCLEVBQUU7UUFDakIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLFFBQVEsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQy9CLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUNyQixDQUFDO0NBQ0YsQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiLy8gbG9ncy50c1xuLy8gY29uc3QgdXRpbCA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzL3V0aWwuanMnKVxuLy8gaW1wb3J0IHsgZm9ybWF0VGltZSB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWwnXG5cbi8vIC0tLS0tLS0tLS0tLS3nrKzkuIDnp43mlrnms5UtLS0tLS0tLS0tLS0tXG5QYWdlKHtcbiAgZGF0YToge1xuICAgIGRhdGFMaXN0OiBbXSwgLy/mlbDmja7mupBcbiAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICBuYXZiYXJEYXRhOiBbXCJPendvcmxkXCIsXCLnnIvop4Hmr4/kuIDnp43lj6/og71cIixcIjIwMjDmrKfmtLLmna9cIixcIkxPVkUgVU5JVEVT5paw57O75YiXXCIsXCJBRElaRVJPIFBSSU1FIFhcIl0sXG4gIH0sXG4gIG9uTG9hZCgpOnZvaWQge1xuICAgIHRoaXMuZ2V0U2hvd0xpc3QoKTtcbiAgfSxcbiAgLy8g6I635Y+W5YiX6KGoXG4gIGdldFNob3dMaXN0OiBmdW5jdGlvbigpOnZvaWQge1xuICAgIGxldCB0aGF0ID0gdGhpcztcbiAgICB0aGlzLnNldERhdGEoeyBsb2FkaW5nOiB0cnVlIH0pO1xuICAgIHd4LnJlcXVlc3Qoe1xuICAgICAgdXJsOiAnaHR0cHM6Ly9leGFtcGxlLmNvbS9zaG93bGlzdCcsXG4gICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgc3VjY2VzcyhyZXM6YW55KSB7XG4gICAgICAgIHRoYXQuc2V0RGF0YSh7IGxvYWRpbmc6IGZhbHNlIH0pO1xuICAgICAgICB3eC5zdG9wUHVsbERvd25SZWZyZXNoKCkgLy/lgZzmraLkuIvmi4nliLfmlrBcbiAgICAgICAgdGhhdC5zZXREYXRhKHsgZGF0YUxpc3Q6IHJlcy5kYXRhLmxpc3QgfSwgZnVuY3Rpb24oKXtcbiAgICAgICAgICB3eC5oaWRlTG9hZGluZygpXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pXG4gIH0sXG4gIC8vIOS4iuaLieWKoOi9veabtOWkmlxuICBvblJlYWNoQm90dG9tOiBmdW5jdGlvbigpOnZvaWQge1xuICAgIGxldCBjaGFuZ2VMaXN0OiBBcnJheTxhbnk+ID0gWy4uLnRoaXMuZGF0YS5kYXRhTGlzdF07XG5cbiAgICBsZXQgdG1wQXJyOiBBcnJheTxhbnk+ID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGFuZ2VMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgaW5kZXggPSBwYXJzZUludChNYXRoLnJhbmRvbSgpICogMTAwIGFzIGFueSkgJSBjaGFuZ2VMaXN0Lmxlbmd0aDtcbiAgICAgIHRtcEFyci5wdXNoKGNoYW5nZUxpc3RbaW5kZXhdKTtcbiAgICAgIGNoYW5nZUxpc3Quc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gICAgbGV0IGRhdGFMaXN0ID0gdGhpcy5kYXRhLmRhdGFMaXN0LmNvbmNhdCh0bXBBcnIgYXMgYW55KTtcbiAgICB0aGlzLnNldERhdGEoeyBkYXRhTGlzdDogZGF0YUxpc3QgfSwgZnVuY3Rpb24oKXtcbiAgICAgIHd4LmhpZGVMb2FkaW5nKClcbiAgICB9KTtcbiAgfSxcbiAgLy8g5LiL5ouJ5Yi35pawXG4gIG9uUHVsbERvd25SZWZyZXNoOiBmdW5jdGlvbigpOnZvaWQge1xuICAgIHRoaXMuc2V0RGF0YSh7IGRhdGFMaXN0OiBbXSB9KTtcbiAgICB0aGlzLmdldFNob3dMaXN0KCk7XG4gIH0sXG59KVxuXG4iXX0=